<div class="col-md-12">
This is the chat view.
</div>
<script>
      var socket = io("http://localhost:8000");

      socket.on('load', function (users, messages) {
        var userList = users.map(function (user) {
          return "<li>" + user + "</li>";
        });

        $("ul.users").html(userList);


        var messageList = messages.map(function (message) {
          return "<li>" + message + "</li>";
        });

        $("ul.messages").html(messageList);
      });

      socket.on('signed-in', function (name) {
        $("ul.users").append("<li>" + name + "</li>");

        $("form.sign-in").hide();
        $("div.chat").show();
      });

      socket.on('said', function (message) {
        $("ul.messages").append("<li>" + message + "</li>");
      });
    </script>
    <script>
      $(function (){
        $("form.sign-in").submit(function (e) {
          e.preventDefault();

          socket.emit('sign-in', $(this).find("input").val());

          $(this).find("input").val('');
        });

        $("form.new-message").submit(function (e) {
          e.preventDefault();

          socket.emit('say', $(this).find("input").val());

          $(this).find("input").val('');
        });
      });
    </script>
  </head>
  <body>
    <h1>Chat</h1>

    <h3>Users in Room</h3>
    <ul class="users"></ul>

    <form class="sign-in">
      <label>Nickname for chat</label>
      <input />
      <button type="submit">Submit</button>
    </form>

    <div class="chat" style="display: none;">
      <h3>Messages</h3>
      <ul class="messages"></ul>
      <form class="new-message">
        <input />
      </form>
    </div>
  </body>
</html>
